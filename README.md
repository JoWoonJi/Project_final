
# **가상 인프라 침해 대응 자동화 시스템 개발 프로젝트**

## **팀 구성 정보**
PM, Architect Engineer, Data Security Analyst, Network Engineer, Application Developer, Cyber Intelligence Researcher

## **기획 의도** ##
 2020년 초에 발생한 Microsoft Exchange 서버에 대한 해킹은 중요한 데이터에 대한 대규모 액세스를 허용했으며, 이로 인해 수많은 조직이 타격을 입었습니다. 또한, Equinix에서 제시한 가상 인프라에 대한 예측은 하이브리드 멀티클라우드의 복잡성이 증가하고, 이에 따라 프로그래밍 가능한 인프라와 투명한 자산 관리의 필요성이 높아지고 있음을 보여줍니다. 자체 회복탄력성을 갖춘 인프라와 애플리케이션에 대한 요구가 높아지고 있으며, 인적 개입의 의존도를 줄이고 자원 수요를 자동으로 예측하고 조정할 수 있는 기계 처리 능력의 활용이 증가할 것으로 전망됩니다​ (Equinix Blog)​.

이러한 공격은 전통적인 보안 방법론으로는 충분히 대응할 수 없음을 시사합니다. 공격자들은 지속적으로 새로운 기술을 개발하고, 보안 시스템의 취약점을 찾아내어 이를 이용합니다. 따라서, 본 프로젝트의 목표는 이러한 고도화된 위협에 대응하기 위해 가상 인프라 구축, 실시간 네트워크 패킷 분석, 그리고 CAPEv2 기반 샌드박스 환경의 구축 및 운영을 통합하는 것입니다. 이를 통해 조직은 사이버 위협을 보다 실시간으로 탐지하고 분석할 수 있으며, 이를 토대로 보다 신속하고 효과적인 대응을 할 수 있을 것입니다.

## **프로젝트 개요**

이 프로젝트는 가상 인프라 구축, 실시간 네트워크 패킷 분석, 그리고 CAPEv2 기반 샌드박스 환경의 구축 및 운영을 통합하여, 고도화된 사이버 공격에 대응하는 종합적인 보안 시스템을 개발하는 것을 목표로 합니다. 이 시스템은 네트워크 상의 이상 징후를 실시간으로 탐지하고, 의심스러운 행위에 대해서는 샌드박스 내에서 동적 분석을 수행하여, 신속하고 효과적인 대응이 가능하도록 설계됩니다.


## **프로젝트 목표**

- **통합 보안 시스템 구축**: 가상 인프라, 네트워크 패킷 분석, 샌드박스 동적 분석을 하나의 시스템으로 통합하여, 사이버 위협에 대한 실시간 모니터링 및 대응 체계를 마련합니다.
- **이상 징후 실시간 탐지 및 분석**: 네트워크 내 이상 행위를 실시간으로 탐지하고, 의심스러운 파일이나 코드는 샌드박스 환경에서 상세 분석을 수행하여 위협을 정확히 식별합니다.
- **대응 메커니즘 개발**: 탐지 및 분석 결과를 바탕으로 자동화된 대응 전략을 개발하여, 위협에 신속하게 대처할 수 있는 시스템을 구현합니다.

## **기술 스택 및 도구**

### **가상화 및 서버 관리:**

- **VMware ESXi (vSphere Hypervisor)**: 가상 머신 호스팅 및 관리.
- **Ubuntu**, **Debian**: 서버 및 데스크탑 운영 체제로 사용.
- **AWS (Amazon Web Services)**: 클라우드 기반 시스템 구축 및 호스팅.

### **보안 및 네트워크 관리:**

- **pfsense**, **VyOS**: 네트워크 보안, 방화벽 및 라우팅 기능 제공.
- **Snort**: 네트워크 침입 탐지 및 방지 시스템.
- **Kali Linux**: 보안 테스트 및 침투 테스팅에 사용되는 도구 모음.
- **Metasploit Framework**: 보안 취약점 테스트 및 침투 테스트.

### **데이터 수집 및 로그 관리:**

- **Splunk**: 로그 데이터 수집, 검색, 시각화 및 모니터링.
- **Sysmon**, **Winlogbeat**: 윈도우 시스템의 상세한 이벤트 로그 기록 및 수집.
- **Beats**: 다양한 데이터 소스로부터의 데이터 수집.

### **데이터 분석 및 시각화:**

- **ELK Stack (Elasticsearch, Logstash, Kibana)**: 로그 데이터 저장, 분석 및 시각화.
- **Python**: 데이터 분석, 처리 및 시스템 자동화 스크립트.

### **애플리케이션 배포 및 컨테이너화:**

- **Docker**: 애플리케이션 컨테이너화 및 배포.
- **T-pot**: 다양한 허니팟을 포함하는 플랫폼.
- **Honeytrap & Dionaea**: 허니팟 소프트웨어로 네트워크 침입 시도 유인 및 기록.

### **네트워크 도구 및 분석:**

- **Hping3**, **Nmap**: 네트워크 탐색, 포트 스캐닝 및 보안 테스팅.
- **Tcpdump**, **Wireshark**: 네트워크 패킷 캡처 및 분석.
- **Scapy**: 네트워크 패킷 조작 및 분석 도구.

### **기타 유틸리티:**

- **Iptables**: Linux 기반의 네트워크 트래픽 제어 및 방화벽 설정.
- **Linux Mint**: 클라이언트 운영 체제로 사용될 수 있는 사용자 친화적인 리눅스 배포판.

## **프로젝트 구현 계획**

### 1단계: 통합 요구사항 정의 및 전체 설계

- **통합 목표 설정**: 가상 인프라 구축, 네트워크 패킷 분석, CAPEv2 샌드박스 환경을 하나의 통합된 보안 시스템으로 결합하는 목표를 설정합니다.
- **시스템 설계**: 가상 인프라 내에서 네트워크 트래픽을 실시간 분석하고, 의심스러운 행위를 탐지한 경우 CAPEv2 샌드박스로 이동하여 동적 분석을 실행하는 통합 아키텍처를 설계합니다. 각 구성 요소 간의 상호작용과 데이터 흐름을 명확하게 합니다.

### 2단계: 가상 인프라 및 네트워크 모니터링 시스템 구축

- **가상 인프라 구축**: 클라우드 서비스를 활용하여 필요한 가상 인프라를 구축합니다. 이 인프라는 네트워크 패킷 분석 및 샌드박스 환경을 지원할 수 있어야 합니다.
- **네트워크 모니터링 및 패킷 분석 통합**: 가상 인프라 내 네트워크 트래픽을 모니터링하고 실시간으로 패킷 분석을 수행하는 시스템을 구축합니다. 이 시스템은 이상 징후를 탐지하는 즉시 CAPEv2 샌드박스로 정보를 전달하는 기능을 갖추어야 합니다.

### 3단계: CAPEv2 샌드박스와의 통합 동적 분석 환경 구축

- **CAPEv2 샌드박스 환경 구축**: 의심스러운 파일이나 행위를 분석하기 위한 CAPEv2 기반의 샌드박스 환경을 구축합니다.
- **통합 워크플로우 개발**: 네트워크 패킷 분석 시스템과 CAPEv2 샌드박스 간의 워크플로우를 개발하여, 이상 행위가 탐지되면 자동으로 샌드박스 분석이 이루어지도록 합니다. 분석 결과는 보안 대응팀에게 실시간으로 제공됩니다.

### 4단계: 시스템 통합 테스트 및 최적화

- **통합 시스템 테스트**: 개발된 통합 시스템 전체를 시뮬레이션된 공격 시나리오와 실제 네트워크 트래픽을 사용하여 테스트합니다. 이를 통해 시스템의 감지 능력, 동적 분석 효율성, 그리고 응답 시간을 평가합니다.
- **성능 최적화 및 조정**: 테스트 결과를 바탕으로 시스템의 성능을 최적화하고, 필요한 조정을 수행하여 전반적인 보안 태세를 강화합니다.
